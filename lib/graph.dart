/// Graph to display 24 hour chart using High Chart wrapped in WebView
import 'package:flutter/material.dart';
import 'package:high_chart/high_chart.dart';
import 'globalVar.dart';

class plotChart extends StatefulWidget {

  const plotChart({Key? key}) : super(key: key);

  @override
  _plotChartState createState() => _plotChartState();
}

class _plotChartState extends State<plotChart> {
  final String _chartData = '''{
      chart:{ renderTo : 'chart-temperature' },
      title: { text: 'Temperature' },
      series: [{
        showInLegend: false,
        data: [
          $valuesToGraph
        ]
      }],
      plotOptions: {
        line: { animation: false,
          dataLabels: { enabled: false }
        },
        series: { color: '#059e8a' }
      },
      xAxis: { type: 'datetime',
        dateTimeLabelFormats: { second: '%H:%M:%S' }
      },
      yAxis: {
        title: { text: 'Temperature (Celsius)' }
        //title: { text: 'Temperature (Fahrenheit)' }
      },
      
      credits: { enabled: false }
    }''';

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: Colors.teal,
      appBar: AppBar(
        centerTitle: true,
        title: const Text('High Charts Example App'),
      ),
      body:
      InteractiveViewer(
        minScale: 1,
        maxScale: 2.5,
        // initTotalZoomOut: true,
        child: HighCharts(
          loader: const SizedBox(
            width: 200,
            child: LinearProgressIndicator(),
          ),
          size: const Size(800, 400),
          data: _chartData,
          scripts: const [
            'https://code.highcharts.com/highcharts-more.js',
            'https://code.highcharts.com/highcharts.js',
            'https://code.highcharts.com/modules/networkgraph.js',
            // 'https://code.highcharts.com/modules/exporting.js',
            'https://code.highcharts.com/modules/accessibility.js',
          ],
        ),
      ),
    );
  }
}


/*
* [1625918400000, 25],
[1625918700000, 26],
[1625919000000, 27],
[1625919300000, 24],
[1625919600000, 23],
[1625919900000, 22],
[1625920200000, 24],
[1625920500000, 25],
[1625920800000, 26],
[1625921100000, 25],
[1625921400000, 24],
[1625921700000, 23],
[1625922000000, 22],
[1625922300000, 21],
[1625922600000, 20],
[1625922900000, 19],
[1625923200000, 21],
[1625923500000, 22],
[1625923800000, 23],
[1625924100000, 25],
[1625924400000, 26],
[1625924700000, 28],
[1625925000000, 29],
[1625925300000, 30],
[1625925600000, 31],
[1625925900000, 30],
[1625926200000, 29],
[1625926500000, 28],
[1625926800000, 27],
[1625927100000, 26],
[1625927400000, 25],
[1625927700000, 24],
[1625928000000, 23],
[1625928300000, 22],
[1625928600000, 23],
[1625928900000, 24],
[1625929200000, 25],
[1625929500000, 26],
[1625929800000, 28],
[1625930100000, 29],
[1625930400000, 30],
[1625930700000, 31],
[1625931000000, 30],
[1625931300000, 29],
[1625931600000, 28],
[1625931900000, 27],
[1625932200000, 26],
[1625932500000, 25],
[1625932800000, 24],
[1625933100000, 23],
[1625933400000, 22],
[1625933700000, 21],
[1625934000000, 20],
[1625934300000, 22],
[1625934600000, 23],
[1625934900000, 24],
[1625935200000, 25],
[1625935500000, 26],
[1625935800000, 28],
[1625936100000, 29],
[1625936400000, 30],
[1625936700000, 31],
[1625937000000, 30],
[1625937300000, 29],
[1625937600000, 28],
[1625937900000, 27],
[1625938200000, 26],
[1625938500000, 25],
[1625938800000, 24],
[1625939100000, 23],
[1625939400000, 22],
[1625939700000, 21],
[1625940000000, 20],
[1625940300000, 22],
[1625940600000, 23],
[1625940900000, 24],
[1625941200000, 25],
[1625941500000, 26],
[1625941800000, 28],
[1625942100000, 29],
[1625942400000, 30],
[1625942700000, 31],
[1625943000000, 30],
[1625943300000, 29],
[1625943600000, 28],
[1625943900000, 27],
[1625944200000, 26],
[1625944500000, 25],
[1625944800000, 24],
[1625945100000, 23],
[1625945400000, 22],
[1625945700000, 21],
[1625946000000, 20],
[1625946300000, 22],
[1625946600000, 23],
[1625946900000, 24],
[1625947200000, 25],
[1625947500000, 26],
[1625947800000, 28],
[1625948100000, 29],
[1625948400000, 30],
[1625948700000, 31],
[1625949000000, 30],
[1625949300000, 29],
[1625949600000, 28],
[1625949900000, 27],
[1625950200000, 26],
[1625950500000, 25],
[1625950800000, 24],
[1625951100000, 23],
[1625951400000, 22],
[1625951700000, 21],
[1625952000000, 20],
[1625952300000, 22],
[1625952600000, 23],
[1625952900000, 24],
[1625953200000, 25],
[1625953500000, 26],
[1625953800000, 28],
[1625954100000, 29],
[1625954400000, 30],
[1625954700000, 31],
[1625955000000, 30],
[1625955300000, 29],
[1625955600000, 28],
[1625955900000, 27],
[1625956200000, 26],
[1625956500000, 25],
[1625956800000, 24],
[1625957100000, 23],
[1625957400000, 22],
[1625957700000, 21],
[1625958000000, 20],
[1625958300000, 22],
[1625958600000, 23],
[1625958900000, 24],
[1625959200000, 25],
[1625959500000, 26],
[1625959800000, 28],
[1625960100000, 29],
[1625960400000, 30],
[1625960700000, 31],
[1625961000000, 30],
[1625961300000, 29],
[1625961600000, 28],
[1625961900000, 27],
[1625962200000, 26],
[1625962500000, 25],
[1625962800000, 24],
[1625963100000, 23],
[1625963400000, 22],
[1625963700000, 21],
[1625964000000, 20],
[1625964300000, 22],
[1625964600000, 23],
[1625964900000, 24],
[1625965200000, 25],
[1625965500000, 26],
[1625965800000, 28],
[1625966100000, 29],
[1625966400000, 30],
[1625966700000, 31],
[1625967000000, 30],
[1625967300000, 29],
[1625967600000, 28],
[1625967900000, 27],
[1625968200000, 26],
[1625968500000, 25],
[1625968800000, 24],
[1625969100000, 23],
[1625969400000, 22],
[1625969700000, 21],
[1625970000000, 20],
[1625970300000, 22],
[1625970600000, 23],
[1625970900000, 24],
[1625971200000, 25],
[1625971500000, 26],
[1625971800000, 28],
[1625972100000, 29],
[1625972400000, 30],
[1625972700000, 31],
[1625973000000, 30],
[1625973300000, 29],
[1625973600000, 28],
[1625973900000, 27],
[1625974200000, 26],
[1625974500000, 25],
[1625974800000, 24],
[1625975100000, 23],
[1625975400000, 22],
[1625975700000, 21],
[1625976000000, 20],
[1625976300000, 22],
[1625976600000, 23],
[1625976900000, 24],
[1625977200000, 25],
[1625977500000, 26],
[1625977800000, 28],
[1625978100000, 29],
[1625978400000, 30],
[1625978700000, 31],
[1625979000000, 30],
[1625979300000, 29],
[1625979600000, 28],
[1625979900000, 27],
[1625980200000, 26],
[1625980500000, 25],
[1625980800000, 24],
[1625981100000, 23],
[1625981400000, 22],
[1625981700000, 21],
[1625982000000, 20],
[1625982300000, 22],
[1625982600000, 23],
[1625982900000, 24],
[1625983200000, 25],
[1625983500000, 26],
[1625983800000, 28],
[1625984100000, 29],
[1625984400000, 30],
[1625984700000, 31],
[1625985000000, 30],
[1625985300000, 29],
[1625985600000, 28],
[1625985900000, 27],
[1625986200000, 26],
[1625986500000, 25],
[1625986800000, 24],
[1625987100000, 23],
[1625987400000, 22],
[1625987700000, 21],
[1625988000000, 20],
[1625988300000, 22],
[1625988600000, 23],
[1625988900000, 24],
[1625989200000, 25],
[1625989500000, 26],
[1625989800000, 28],
[1625990100000, 29],
[1625990400000, 30],
[1625990700000, 31],
[1625991000000, 30],
[1625991300000, 29],
[1625991600000, 28],
[1625991900000, 27],
[1625992200000, 26],
[1625992500000, 25],
[1625992800000, 24],
[1625993100000, 23],
[1625993400000, 22],
[1625993700000, 21],
[1625994000000, 20],
[1625994300000, 22],
[1625994600000, 23],
[1625994900000, 24],
[1625995200000, 25],
[1625995500000, 26],
[1625995800000, 28],
[1625996100000, 29],
[1625996400000, 30],
[1625996700000, 31],
[1625997000000, 30],
[1625997300000, 29],
[1625997600000, 28],
[1625997900000, 27],
[1625998200000, 27],
[1625998500000, 27],
[1625998800000, 27],
[1625999100000, 27],
[1625999400000, 27],
[1625999700000, 27],
[1626000000000, 27],
[1626000300000, 27],
[1626000600000, 27],
[1626000900000, 27],
[1626001200000, 27],
[1626001500000, 27],
[1626001800000, 27],
[1626002100000, 29],
[1626002400000, 30],
[1626002700000, 31],
[1626003000000, 30],
[1626003300000, 29],
[1626003600000, 28],
[1626003900000, 27],
[1626004200000, 26],
[1626004500000, 25],
[1626004800000, 28],
          // [1625918400000, 25], // Example datetime (in epoch) and temperature values
          // [1626004800000, 28],
          // // [1626091200000, 29],
          // // [1626092400000, 27],
          // // [1626093600000, 28],
          // // [1626094800000, 27],
          // [1626096000000, 28],
          // [1626097200000, 23],
          // [1626098400000, 27],
          // [1626099600000, 28],
          // [1626100800000, 26],
          * */